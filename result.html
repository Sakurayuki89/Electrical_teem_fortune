<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì •ë¹„2íŒ€ ì•ˆì „ ìš´ì„¸ ê²°ê³¼</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>âš¡ ì •ë¹„2íŒ€ ì•ˆì „ ìš´ì„¸ ê²°ê³¼ âš¡</h1>
            <p>AIê°€ ë¶„ì„í•œ ë‹¹ì‹ ë§Œì˜ ë§ì¶¤ ì•ˆì „ ìš´ì„¸ì…ë‹ˆë‹¤</p>
        </header>

        <div class="fortune-result">
            <div class="zodiac-info">
                <h3 id="zodiac-title">ìš´ì„¸ ë¶„ì„ ì¤‘...</h3>
                <div id="zodiac-content"></div>
            </div>
            
            <div class="safety-advice">
                <h3>ğŸ”§ ì˜¤ëŠ˜ì˜ ì•ˆì „ ì‘ì—… ì¡°ì–¸</h3>
                <div id="safety-content"></div>
            </div>
            
            <button onclick="tryLuck()" class="luck-btn">ğŸ€ í–‰ìš´ ë²„íŠ¼</button>
        </div>
    </div>

    <!-- í–‰ìš´ ë‹¹ì²¨ ëª¨ë‹¬ -->
    <div id="luck-modal" class="modal hidden">
        <div class="modal-content">
            <h2>ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰</h2>
            <p>ì´ë²ˆ ë‹¬ í–‰ìš´ì˜ ì£¼ì¸ê³µì´ ë˜ì…¨ìŠµë‹ˆë‹¤!</p>
            <p>íŠ¹ë³„í•œ í–‰ìš´ì´ í•¨ê»˜í•  ê²ƒì…ë‹ˆë‹¤.</p>
            <button onclick="closeLuckModal()" class="close-btn">í™•ì¸</button>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ URL íŒŒë¼ë¯¸í„°ì—ì„œ ë°ì´í„° ì½ì–´ì™€ì„œ ê²°ê³¼ í‘œì‹œ
        window.onload = function() {
            const urlParams = new URLSearchParams(window.location.search);
            const birthdate = urlParams.get('birthdate');
            const mbti = urlParams.get('mbti');
            
            if (birthdate && mbti) {
                displayFortuneResult(birthdate, mbti);
            } else {
                // íŒŒë¼ë¯¸í„°ê°€ ì—†ìœ¼ë©´ ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
                window.location.href = 'index.html';
            }
        };
        
        function displayFortuneResult(birthdate, mbti) {
            const zodiac = getZodiac(birthdate);
            const seed = generateSeed(birthdate, mbti);

            // AI ì¶”ë¡  ë°©ì‹ìœ¼ë¡œ ë™ì  ìš´ì„¸ ìƒì„±
            const aiFortune = generateAIFortune(zodiac, mbti, seed);
            const aiSafetyAdvice = generateAISafetyAdvice(zodiac, mbti, seed);
            const mbtiInfo = mbtiSafetyAdvice[mbti];

            // ì¶”ê°€ ë¬´ì‘ìœ„ ì•ˆì „ íŒ ìƒì„±
            const additionalTips = generateAdditionalSafetyTips(zodiac, mbti, seed);

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('zodiac-title').textContent = `${zodiac}ë  AI ë§ì¶¤ ì•ˆì „ ìš´ì„¸`;
            document.getElementById('zodiac-content').innerHTML = `
                <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 15px; border-radius: 10px; margin-bottom: 15px;">
                    <p><strong>ğŸ”® AI ë¶„ì„ ìš´ì„¸:</strong> ${aiFortune}</p>
                </div>
                <p><strong>ğŸ’¡ MBTI íŠ¹ì„± í™œìš©ë²•:</strong> ${mbtiInfo.general}</p>
            `;

            // AI ìƒì„± ì•ˆì „ ì¡°ì–¸ í‘œì‹œ
            document.getElementById('safety-content').innerHTML = `
                <div style="margin-bottom: 20px; padding: 15px; background: linear-gradient(135deg, #ff6b6b, #ffa500); color: white; border-radius: 10px;">
                    <p><strong>ğŸ¤– AI ë§ì¶¤ ì•ˆì „ ì¡°ì–¸:</strong></p>
                    <p>${aiSafetyAdvice}</p>
                </div>
                <div style="margin-bottom: 20px; padding: 15px; background: rgba(102, 126, 234, 0.1); border-radius: 8px;">
                    <p><strong>âš¡ ì˜¤ëŠ˜ì˜ ì „ê¸°ì‘ì—… í¬ì¸íŠ¸:</strong></p>
                    <p>${additionalTips}</p>
                </div>
                <div style="padding: 15px; background: rgba(255,255,255,0.7); border-radius: 8px;">
                    <strong>âš ï¸ í•„ìˆ˜ ì•ˆì „ìˆ˜ì¹™ âš ï¸</strong><br>
                    â€¢ ì‘ì—… ì „ ${getRandomElement(electricalSafetyElements.equipment)} ì ê²€<br>
                    â€¢ ${getRandomElement(electricalSafetyElements.procedures)} í›„ ì‘ì—… ì‹œì‘<br>
                    â€¢ ${getRandomElement(electricalSafetyElements.teamwork)} ì‹¤ì‹œ<br>
                    â€¢ ${getRandomElement(electricalSafetyElements.risks)} ìœ„í—˜ ìƒì‹œ ì£¼ì˜
                </div>
            `;
        }
        

    </script>
</body>
</html>
